<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis XV Gilmy Isabel Camacho Visoso  </title>

    <!-- Meta tags para redes sociales -->
    <meta property="og:title" content="Mis XV Gilmy Isabel Camacho Visoso  ">
    <meta property="og:description" content="¬°Te invito a celebrar conmigo este d√≠a tan especial!">
    <meta property="og:image" content="https://invitadigital24.github.io/GilmyIsabel/f.png">
    <meta property="og:url" content="https://invitadigital24.github.io/GilmyIsabel/">
    <meta property="og:type" content="website">


    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flexslider@2.7.2/flexslider.css">
    <link rel="stylesheet" href="awesome/css/font-awesome.min.css">

    <link rel="stylesheet" type="text/css" href="util.css">
    <link rel="stylesheet" type="text/css" href="filter.css">
    <link rel="stylesheet" type="text/css" href="styles.css">

<!-- lightGallery CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.2/css/lightgallery-bundle.min.css">


</head>

<body>
    <div class="content bg_pink">



        <div class="pst_relative w_100 overflow_hidden">

      

            <div class="pst_absolute w_100 px_10  toppx_220 w_95 zdex_2" style="height: 3500px;">
                <img class="w_100 h_100 no_touch" src="c_arco.png">
            </div>
    
            <div class="pst_relative zdex_4">


                <div class="pst_absolute w_100  toppx_min_1 w_95 zdex_2">
                    <img class="w_100 no_touch" src="ground.png" style="filter: invert(18%) sepia(98%) saturate(3500%) hue-rotate(293deg) brightness(60%) contrast(120%)">
                </div>


                <div class="pst_absolute w_100 px_10  toppx_20 w_95 zdex_2">
                    <img class="w_100 no_touch" src="arco_top.svg">
                </div>
                

                <img class="pst_absolute toppx_min_60 leftpx_min_50 wpx_150 zdex_2 animate_wind" src="floflo.png">
                <img class="pst_absolute toppx_min_60 rightpx_min_50 wpx_150 zdex_2 animate_wind" src="floflo.png">

                <center>
                    <img src="corona.png" class="w_100 max_wpx_150 mt_60"><br>
                    <img src="misxv.png" class="w_100 max_wpx_200 mt_20">
                </center>

            </div>


            <div class="pst_relative zdex_4">



                <img class="pst_absolute toppx_10 rightpx_min_30 wpx_80 zdex_2 animate_wind" src="ojitas.png" 
                     style="filter: saturate(1.3) hue-rotate(62deg) brightness(0.8) contrast(1.1); opacity: 0.5;">

                <img class="pst_absolute toppx_10 leftpx_min_30 wpx_80 zdex_2 animate_wind" src="ojitas.png" 
                     style="filter: saturate(1.3) hue-rotate(62deg) brightness(0.8) contrast(1.1); opacity: 0.5;">


    
                <center>
                    <h1 class="font_charm fspx_20 m_0 mt_10 color_carmin text_shadow_carmin">
                        He aprendido que estar con<br> quienes quiero es suficiente para<br> ser feliz, por eso deseo que<br>
                         me acompa√±es en uno de los <br>momentos m√°s importantes<br> de mi vida, <br>algo que solo se vive una vez...
                    </h1>
                </center>
  
            </div>


            <div class="pst_relative zdex_4">
                
                
                <div class="pst_absolute w_100 hpx_500 px_10  toppx_min_50 w_95 zdex_2">
                    <img class="w_100 h_100 no_touch" src="rayas.svg">
                </div>

                <center>
                    <img src="repo.png" id="play" class="w_100 max_wpx_200 mt_30 pst_relative zdex_4"  style="filter: saturate(1.3) hue-rotate(280deg) brightness(0.8) contrast(2.1);">

                    <h1 class="font_charm fspx_20 m_0 mt_10 color_carmin text_shadow_carmin">Clcik para reproducir</h1>
                </center>
                
                <div class="d_block hpx_150"></div>
                <center>
                    <h1 class="font_temp fspx_50 m_0 mt_20 color_carmin text_shadow_carmin">Gilmy</h1>
                </center>
                <div class="d_block hpx_170"></div>
                
            </div>


            <div class="pst_relative zdex_4">
                
                <img class="pst_absolute toppx_min_150 rightpx_min_30 wpx_80 zdex_2 animate_wind" src="ojitas.png" 
                     style="filter: saturate(1.3) hue-rotate(62deg) brightness(0.8) contrast(1.1); opacity: 0.5;">

                <img class="pst_absolute toppx_min_150 leftpx_min_30 wpx_80 zdex_2 animate_wind" src="ojitas.png" 
                     style="filter: saturate(1.3) hue-rotate(62deg) brightness(0.8) contrast(1.1); opacity: 0.5;">
  
                
                <img class="pst_absolute wpx_50 top_min_60 left_20" src="mariposas.png">
                <img class="pst_absolute wpx_50 top_min_60 right_20" src="mariposas.png">
             

                <div class="pst_absolute top_min_50 right_70 zdex_2  rotate_10 ">
                    <img class="pst_absolute wpx_180 zdex_2 img_border box_shadow_dark" src="img1.jpg">
                </div>
         
                <div class="d_block hpx_140"></div>


                <!--<div class="pst_absolute top_min_50 right_45 zdex_2  rotate_10 ">
                    <img class="pst_absolute wpx_110 zdex_2 img_border box_shadow_dark" src="img1.jpg">
                </div>
                <div class="pst_absolute top_min_40 left_15 zdex_2  rotate_355 ">
                    <img class="pst_absolute wpx_110 zdex_2 img_border box_shadow_dark" src="img2.jpg">
                </div>
                <div class="d_block hpx_100"></div>-->
 
                <center>
                    <h1 class="font_charm fspx_20 m_10 color_carmin text_shadow_carmin">
                        Con la bendici√≥n de Dios y el amor<br>
                        de mis padres, tengo el honor de<br>
                        invitarte a celebrar mis quince a√±os,<br>
                        un sue√±o que hoy se hace realidad.
                    </h1>
                </center>

            </div>



            <div class="pst_relative zdex_4">
                
                
                <div class="pst_absolute w_100 hpx_500 px_10  toppx_min_120 w_95 zdex_2">
                    <img class="w_100 h_100 no_touch" src="rayas.svg">
                </div>
                
                <div class="pst_absolute w_100 hpx_500 px_10  toppx_60 w_95 zdex_2 rotate_360">
                    <img class="w_100 h_100 no_touch espejo_y" src="rayas.svg">
                </div>
                
                <img class="pst_absolute toppx_220 rightpx_min_30 wpx_80 zdex_2 animate_wind" src="jojas.png">

                <img class="pst_absolute toppx_220 leftpx_min_30 wpx_80 zdex_2 animate_wind" src="jojas.png">
  
       
                <div class="d_block hpx_80"></div>
                <center>
                    <h1 class="font_temp fspx_35 m_0 mt_20 color_carmin text_shadow_carmin">Mis Padres</h1>
                    <h1 class="font_temp fspx_35 m_0 mt_20 color_black ">Gilmy Olinca Visoso S√°nchez </h1>
                    <h1 class="font_temp fspx_35 m_0 mt_20 color_black ">&</h1>
                    <h1 class="font_temp fspx_35 m_0 mt_20 color_black">Francisco Camacho Camacho </h1>
                </center>
                <div class="d_block hpx_40"></div>
                
            </div>




 






            <div class="pst_relative zdex_4">
 
                <center>
                    <h1 class="font_charm fspx_20 m_10 color_black">Reserva este gran dia</h1>
                </center>
                



                <center>
                    <h1 class="font_temp fspx_35 m_0 mt_20 color_carmin text_shadow_carmin">Febrero 2026</h1>
                </center>

          
                <div class="calendar-container px_20">



                    <img class="pst_absolute toppx_220 rightpx_min_30 wpx_80 zdex_2 animate_wind" src="globos.png">

                    <img class="pst_absolute toppx_220 leftpx_min_30 wpx_80 zdex_2 animate_wind" src="globos.png">
  

                    <div class="calendar-grid">
                        <!-- Headers de d√≠as -->
                        <div class="day-header">D</div>
                        <div class="day-header">L</div>
                        <div class="day-header">M</div>
                        <div class="day-header">M</div>
                        <div class="day-header">J</div>
                        <div class="day-header">V</div>
                        <div class="day-header">S</div>
                        
                        <!-- Primera semana -->
                        <div class="day-cell">1</div>
                        <div class="day-cell">2</div>
                        <div class="day-cell">3</div>
                        <div class="day-cell">4</div>
                        <div class="day-cell">5</div>
                        <div class="day-cell">6</div>
                        <div class="day-cell">
                            <div class="pst_absolute top_1 right_1 zdex_2  rotate_0">
                                <img class="wpx_100 observado animate__rollIn" src="corazon.gif">
                            </div>
                            <span>7</span>
                        </div>  

                        
                        <!-- Segunda semana -->
 
                        <div class="day-cell">8</div>
                        <div class="day-cell">9</div>
                        <div class="day-cell">10</div>
                        <div class="day-cell">11</div>
                        <div class="day-cell">12</div>
                        <div class="day-cell">13</div>
                        <div class="day-cell">14</div>

                        
                        <!-- Tercera semana -->
                        <div class="day-cell">15</div>
                        <div class="day-cell">16</div>
                        <div class="day-cell">17</div>
                        <div class="day-cell">18</div>
                        <div class="day-cell">19</div>
                        <div class="day-cell">20</div>
                        <div class="day-cell">21</div>
                        
                        <!-- Cuarta semana -->
                        <div class="day-cell">22</div>
                        <div class="day-cell">23</div>
                        <div class="day-cell">24</div>
                        <div class="day-cell">25</div>
                        <div class="day-cell">26</div>
                        <div class="day-cell">27</div>
                        <div class="day-cell">28</div>
 
        
   
          
                    </div>
                </div>
          

                <center class="mt_40">
                    <h1 class="font_temp fspx_35 m_0 mt_20 color_carmin text_shadow_carmin">Solo faltan:</h1>
                </center>
                
            
                <div class="text-center mt_20">
                    <div id="countdown" class="color_black"></div>
                </div><br>
            </div>




            






            <div class="pst_relative zdex_4">
                <div class="pst_relative w_100 px_10  toppx_min_10 w_95 zdex_2 rotate_360">
                    <img class="w_100 no_touch espejo_y" src="rayas.svg">
                </div>
                <div class="d_flex jc_space_evenly">
                    <div>
                        <center class="mt_5">
                            <h1 class="font_temp mt_5 fspx_15 m_0 color_black">Ceremonia:</h1>
                            <h1 class="font_charm mt_5 fspx_25 m_0 color_black">12:00pm</h1>
                            <h1 class="font_temp mt_5 fspx_15 m_0 color_carmin">Iglesia de<br> San Jos√©</h1>

                            <a href="https://maps.app.goo.gl/D5KytUFETukct61C9" 
                               class="max_wpx_100 m_0a mt_10 bg_degrado_carmin brln_2px color_black d_block py_5 rounded font_charm text_underline">Ubicaci√≥n</a>
                        </center>
                    </div>
                    <div class="mr_20">

                            
                        <center class="mt_5 max_wpx_250 m_0a">
                            <h1 class="font_temp mt_5 fspx_15 m_0 color_black">Recepci√≥n:</h1>
                            <h1 class="font_charm mt_5 fspx_25 m_0 color_black">4:00pm</h1>
                            <h1 class="font_temp mt_5 fspx_15 m_0 color_carmin">La Casona<br> de Anita</h1>

                            <a href="https://maps.app.goo.gl/pyxnNSFPjRJLLf6e9"
                               class="max_wpx_100 m_0a mt_10 bg_degrado_carmin brln_2px color_black d_block py_5 rounded font_charm text_underline">Ubicaci√≥n</a>
                        </center>
                        
                    </div>
                </div>





                
                <div class="d_flex jc_space_evenly mt_20">
                    <div>
                        <center class="mt_5">
                            <h1 class="font_temp mt_5 fspx_15 m_0 color_black">Confirmacion<br>de Asistencia:</h1>
                            <img class="wpx_40 filter_black" src="calendar.png">

                            <a href="https://api.whatsapp.com/send?phone=7226744534&text=Hola,%20confirmo%20mi%20asistencia%20a%20tu%20evento" 
                               class="max_wpx_100 m_0a mt_10 text_underline bg_degrado_carmin brln_2px color_black d_block py_5 rounded font_charm">Confirmar</a>
                        </center>

                    </div>
                    <div>
                        <center class="mt_5">
                            <h1 class="font_temp mt_5 fspx_15 m_0 color_black">Sugerencia<br>de Regalo:</h1>
                            
                            <h1 class="font_charm my_10 fspx_15 m_0 color_black">
                                El regalo es opcional, la asistencia<br> obligatoria. Si deseas tener un<br> detalle conmigo, una lluvia<br> de sobres ser√° bien recibida.
                            </h1>

                            <img class="wpx_70 hpx_40 filter_black" src="regalo.png">
                        </center>
                    </div>
                </div>




       
                <button id="btnQr" class="d-none"></button>
                <div class="bg_red_true">
                    <center class="m_0a d_block max_wpx_700 color_black py_40" data-bs-toggle="modal" data-bs-target="#PaseModaQR" id="btnQr">
                        <div class="px_20">
                            <img src="tomaQr.png" class="w_100 max_wpx_150">
                        </div>
                        <button class="font_paris fspx_30 my_btn bg_black py_5 px_20 rounded color_white d_block max_wpx_200 my_20 no_link">
                            <i class="fa fa-camera-retro mr_10" aria-hidden="true"></i><span>Foto QR</span>
                        </button>
                    </center>
                </div>


                






                        
                <center>
                    <h1 class="font_temp fspx_35 m_0 mt_40 color_black">¬°Te esperamos!</h1><br><br>
                </center>
                <img class="pst_absolute bottom_min_10 leftpx_min_50 wpx_150 zdex_2 animate_wind" src="floflo.png">
                <img class="pst_absolute bottom_min_10 rightpx_min_70 wpx_150 zdex_2 animate_wind" src="floflo.png">


            </div>



            <center class="pst_relative top_80 px_20"> 
                <div id="gallery" class="gallery"></div>
            </center>


        </div>

        



        <!-- Modal -->
        <div class="modal fade" id="PaseModaQR">
          <div class="modal-dialog modal-lg">
            <div class="text_right mb_15" style="pointer-events: auto;">
                <button class="my_btn bg_red_true color_white rounded " data-bs-dismiss="modal" aria-label="Close">
                    <i class="material-icons p_5">close</i>
                </button>
            </div>
            <div class="modal-content bg_transparent">
                <div class="rounded" id="map1">
                    <div class="pase-xv">
                        <video id="camara" style="width: 100%; height: auto;" autoplay playsinline></video>
                        <div class="contenido-pase" id="watch_scaneo">
                            <p class="text-center">Escanea el c√≥digo QR para la foto.</p>
                        </div>
                    </div>  
                </div>
            </div>
          </div>
        </div>







        

        <!-- Footer -->
        <footer class="bd-footer pb-4 mt_50">
            <div class="container-fluid pb-4">
                <div class="row align-items-center py-4">

                    <div class="col-12 text-center mb-3 mb-md-0">
                       <p class="font_chewy mb-0 fs-6">¬© 2025 Todos los derechos reservados</p>
                       <a href="https://invitadigitales.github.io/mx/" class="font_chewy mb-0 fs-6 no_link color_black">
                          <img src="net.svg" alt="Instagram" class="footer-icon filter_invert">
                          <span>invitadigitales.github.io/mx<span>
                        </a>
                    </div>

                    <div class="col-12">
                        <div class="d-flex justify-content-center gap-2">
                            <div class="footer-links font_chewy">
                                <a href="https://www.facebook.com/invitasdigital/" class="d-flex align-items-center justify-content-center fs-6 ">
                                    <img src="facebook.svg" alt="Facebook" class="footer-icon filter_invert">
                                    <span>InvitaDigitales</span>
                                </a>
                            </div>
                            <div class="footer-links font_chewy">
                                <a href="https://www.instagram.com/inbitadigitales/" class="d-flex align-items-center justify-content-center fs-6">
                                    <img src="instagram.svg" alt="Instagram" class="footer-icon filter_invert">
                                    <span>InbitaDigitales</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>


        <div class="pst_fixed zdex_9999 p_30" id="controls">
            <ul class="m_0 p_0 liststyle_none">
                <li id="sound">
                    <img src="sound_mute.svg" class="wpx_35 cur_pointer">
                </li>

            </ul>
        </div>
    </div>

<!-- Scripts -->
<script src="controller.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flexslider@2.7.2/jquery.flexslider-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/countdown/2.6.0/countdown.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
<script src="https://unpkg.com/qr-scanner/qr-scanner.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js"></script>


<!-- Primero cargar JS de lightGallery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.2/lightgallery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.2/plugins/thumbnail/lg-thumbnail.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.2/plugins/zoom/lg-zoom.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>




<script>


//erikapradoswer@gmail.com
//invitadoweb
//unoydos12345656

const API_URL = 'https://www.ztart.mx/';
const SUPABASE_URL = 'https://guhvnntufkntyikjllzy.supabase.co';
const SUPABASE_KEY = 'sb_publishable_tm_LajL9j27AkFrzeDh4mQ_yllWagHk';
const SUPABASE_BUCKET = "galery";
const API = "https://www.ztart.mx/";
const CLIENTE_ID = "23";



var audio = new Audio('audio.mp3');
audio.loop = true;
audio.volume = 0.5;



var targetDate = new Date("Jan 31, 2026 08:00:00").getTime();
var countdownTimer = countdown(
    targetDate,
    function(ts) {
        var countdownText = `
            <div class="time-container">
                <span class="fspx_30 bg_degrado_carmin p_10 rounded d_block mb_15">${ts.days}</span>
                <p class="fspx_15">D√≠as</p>
            </div>
            <div class="time-container">
                <span class="fspx_30 bg_degrado_carmin p_10 rounded d_block mb_15">${ts.hours}</span>
                <p class="fspx_15">Horas</p>
            </div>
            <div class="time-container">
                <span class="fspx_30 bg_degrado_carmin p_10 rounded d_block mb_15">${ts.minutes}</span>
                <p class="fspx_15">Min.</p>
            </div>
            <div class="time-container">
                <span class="fspx_30 bg_degrado_carmin p_10 rounded d_block mb_15">${ts.seconds}</span>
                <p class="fspx_15">Seg.</p>
            </div>
        `;

        document.getElementById("countdown").innerHTML = countdownText;
    },
    countdown.DAYS | countdown.HOURS | countdown.MINUTES | countdown.SECONDS
);




$('.flexslider').flexslider({
    animation: "fade",
    slideshow: true,
    slideshowSpeed: 1500,
    animationSpeed: 600,
    pauseOnHover: false, 
    controlNav: true,   
    directionNav: true

});




let muted = false;
$('#sound,#play').click(() => {

    muted = !muted;
    if (muted) {
        audio.play();
    } else {
        audio.pause();
    }
    $('#sound').find('img').attr('src', muted ? 'sound.svg' : 'sound_mute.svg');

});



document.addEventListener('DOMContentLoaded', function() {

    floatingController.register('#controls', '.content', {
        width: 80,
        customPosition: (element, container, breakpoint) => {
            const rect = container.getBoundingClientRect();
            element.style.right = rect.left + 'px';
            element.style.bottom = '0px';
        }
    });

});





















const video = document.getElementById("camara");
const canvas = document.getElementById("preview");
const fotoPreview = document.getElementById("fotoPreview");
const btnQr = document.getElementById("btnQr");
let toastActivo = false;
function mostrarToast(mensaje, color = "#F44336") {
    if (toastActivo) return; // ya hay un toast activo
    toastActivo = true;
    Toastify({
        text: mensaje,
        duration: 1000,
        backgroundColor: color,
        close: true,
        onClick: function(){}
    }).showToast();
    setTimeout(() => {
        toastActivo = false;
    }, 1000);
}
const scanner = new QrScanner(video, qrCode => {
    //scanner.stop();
    if ($('#watch_scaneo').is(':visible')) {
        console.log('El elemento es visible');
        if (qrCode === 'invdigital') {
            window.location.href = 'foto.html';
        } else {
            mostrarToast("QR invalido");
        }
    }
    $('#PaseModaQR').modal('hide');
});

btnQr.onclick = () => {
    const ctx = canvas.getContext("2d");
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    ctx.drawImage(video, 0, 0);
};
navigator.mediaDevices.getUserMedia({ video: { facingMode: { exact: "environment" } } })
.then(stream => {
    video.srcObject = stream;
    scanner.start();
})
.catch(err => {
    console.error("No se pudo abrir la c√°mara trasera:", err);
});
















const gallery = document.getElementById('gallery');

// Inicializa LightGallery
const galleryInstance = lightGallery(gallery, {
    plugins: [lgThumbnail, lgZoom],
    speed: 500,
    thumbnail: true,
    download: true,
    zoom: true
});

// Funci√≥n para listar fotos
function listarFotos() {
    const url = `${API_URL}/fotosV2?cliente_id=${CLIENTE_ID}&SUPABASE_BUCKET=${SUPABASE_BUCKET}&SUPABASE_URL=${SUPABASE_URL}&SUPABASE_KEY=${SUPABASE_KEY}&r=${Math.random()}`;

    fetch(url)
        .then(res => res.json())
        .then(data => {
            console.log("Listado de fotos:", data);

            gallery.innerHTML = "";

            data.forEach(fotoUrl => {
                const a = document.createElement('a');
                a.href = fotoUrl;           // LightGallery usa href
                a.dataset.src = fotoUrl;    // compatibilidad
                a.style.display = "inline-block";
                const img = document.createElement('img');
                img.src = fotoUrl;
                img.style.width = "150px";
                img.style.height = "150px";
                img.style.objectFit = "cover";
                a.appendChild(img);
                gallery.appendChild(a);
            });

            // Refresca LightGallery para reconocer los nuevos elementos
            galleryInstance.refresh();
        })
        .catch(err => {
            console.error("Error al obtener fotos:", err);
            alert("Error al obtener fotos: " + err);
        });
}

// Evento para agregar el bot√≥n cada vez que se abre la galer√≠a
gallery.addEventListener('lgAfterOpen', () => {
    const toolbar = document.querySelector('.lg-toolbar');
    if (!toolbar) return;

    // Eliminar bot√≥n viejo si existe
    const oldBtn = document.getElementById('lg-delete-modal');
    if (oldBtn) oldBtn.remove();

    // Crear bot√≥n nuevo
    const btn = document.createElement('button');
    btn.id = 'lg-delete-modal';
    btn.innerHTML = 'üóëÔ∏è';
    btn.style.cssText = `
        background:black;
        color:#fff;
        border:none;
        padding:8px 12px;
        border-radius:0px;
        cursor:pointer;
        font-size:18px;
        margin-left:8px;
    `;
    toolbar.appendChild(btn);

    btn.onclick = function() {
        const slides = document.querySelectorAll('.lg-item');
        let idx = 0;
        slides.forEach((slide, i) => {
            if (slide.classList.contains('lg-current')) idx = i;
        });

        Swal.fire({
            title: 'Ingresa la clave para eliminar la foto',
            input: 'password',
            inputPlaceholder: 'Clave',
            showCancelButton: true,
            confirmButtonText: 'Eliminar',
            cancelButtonText: 'Cancelar',
            inputValidator: (value) => {
                if (!value) return 'Debes ingresar una clave';
                if (value !== 'clave123') return 'Clave incorrecta';
            }
        }).then(result => {
            if (result.isConfirmed) {
                eliminarFoto(document.querySelectorAll('#gallery a')[idx].href,
                             document.querySelectorAll('#gallery a')[idx]);

                // Cierre seguro del modal
                setTimeout(() => {


                    galleryInstance.closeGallery();

                }, 100);
            }
        });
    };
});

// Funci√≥n para eliminar foto
function eliminarFoto(fotoUrl, container) {
    const fileName = fotoUrl.split('/').pop();
    const deleteUrl = `${API_URL}/fotosV2?cliente_id=${CLIENTE_ID}&file_name=${fileName}&SUPABASE_BUCKET=${SUPABASE_BUCKET}&SUPABASE_URL=${SUPABASE_URL}&SUPABASE_KEY=${SUPABASE_KEY}`;

    fetch(deleteUrl, {
        method: 'DELETE',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            cliente_id: CLIENTE_ID,
            file_name: fileName,
            SUPABASE_BUCKET,
            SUPABASE_KEY
        })
    })
    .then(res => res.json())
    .then(data => {
        console.log("Foto eliminada:", data);
        container.style.transition = 'opacity 0.3s, transform 0.3s';
        container.style.opacity = '0';
        container.style.transform = 'scale(0.8)';
        setTimeout(() => container.remove(), 300);
    })
    .catch(err => {
        console.error("Error al eliminar foto:", err);
        alert('Error al eliminar la foto: ' + err);
    });
}
// Cargar fotos al inicio
listarFotos();


</script>
</body>
</html>